<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Flask PDF Example</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <h2>This will be captured!</h2>
  <div id="capture_area" style="padding:20px; border:1px solid black;">
    <p>Hello from Flask ðŸš€</p>
  </div>

  <button id="pdf">Download PDF</button>

  <script>
    const { jsPDF } = window.jspdf;

    document.getElementById("pdf").onclick = function() {
      html2canvas(document.getElementById("capture_area")).then(function(canvas) {
        const imgData = canvas.toDataURL('image/png');
        const pdf = new jsPDF();
        const imgProps = pdf.getImageProperties(imgData);
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;

        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
        pdf.save("screenshot.pdf");
      });
    };
  </script>
</body>
</html>
